<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Unsubscribed — AjayaDesign</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    min-height: 100vh;
    display: flex; justify-content: center; align-items: center;
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
    color: #e2e8f0;
    padding: 20px;
  }
  .card {
    text-align: center;
    max-width: 480px;
    width: 100%;
    padding: 48px 36px;
    background: rgba(30, 41, 59, 0.8);
    border-radius: 20px;
    border: 1px solid rgba(99, 102, 241, 0.25);
    backdrop-filter: blur(20px);
    box-shadow: 0 25px 60px rgba(0,0,0,0.4), 0 0 40px rgba(99, 102, 241, 0.08);
  }
  .check-circle {
    width: 80px; height: 80px;
    border-radius: 50%;
    background: linear-gradient(135deg, #22c55e, #16a34a);
    display: flex; align-items: center; justify-content: center;
    margin: 0 auto 24px;
    box-shadow: 0 8px 24px rgba(34, 197, 94, 0.3);
    animation: scaleIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  .check-circle svg { width: 40px; height: 40px; }
  @keyframes scaleIn {
    0% { transform: scale(0); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
  }
  h1 {
    font-size: 1.6rem;
    font-weight: 700;
    margin-bottom: 12px;
    background: linear-gradient(135deg, #f8fafc, #94a3b8);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  p {
    color: #94a3b8;
    font-size: 1rem;
    line-height: 1.6;
    margin: 6px 0;
  }
  .divider {
    width: 60px; height: 3px;
    background: linear-gradient(90deg, #6366f1, #8b5cf6);
    border-radius: 2px;
    margin: 24px auto;
  }
  .brand {
    font-size: 0.85rem;
    color: #64748b;
    letter-spacing: 0.5px;
  }
  .brand a {
    color: #818cf8;
    text-decoration: none;
    transition: color 0.2s;
  }
  .brand a:hover { color: #a5b4fc; }
</style>
</head>
<body>
<div class="card">
  <div class="check-circle">
    <svg fill="none" viewBox="0 0 24 24" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="20 6 9 17 4 12"/>
    </svg>
  </div>
  <h1>You've been unsubscribed</h1>
  <p>You won't receive any more emails from us.</p>
  <p>Sorry for the bother — I appreciate your time.</p>
  <div class="divider"></div>
  <div class="brand">
    <a href="https://ajayadesign.github.io">AjayaDesign</a> · Manor, TX
  </div>
</div>

<script type="module">
  import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js';
  import { getDatabase, ref, push } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js';

  const params = new URLSearchParams(location.search);
  const trackingId = params.get('t') || '';

  if (trackingId) {
    const app = initializeApp({
      apiKey: 'AIzaSyAXZkPmR9f9xBwLXZ_sskUtabalm6mXoRk',
      databaseURL: 'https://ajayadesign-6d739-default-rtdb.firebaseio.com',
      projectId: 'ajayadesign-6d739',
    });

    const db = getDatabase(app);

    try {
      await push(ref(db, 'tracking/unsubscribes'), {
        tracking_id: trackingId,
        ts: Date.now(),
        ua: navigator.userAgent.substring(0, 200),
      });
    } catch (e) {
      console.warn('Track unsubscribe failed:', e);
    }
  }
</script>
</body>
</html>
